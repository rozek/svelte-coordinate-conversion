{"version":3,"file":"svelte-coordinate-conversion.js","sources":["svelte-coordinate-conversion.ts"],"sourcesContent":["  type Position = { left:number, top:number }\n\n  function fromViewportTo (\n    System:'document'|'local', originalPosition:Position, Target?:Element\n  ):Position {\n    switch (true) {\n      case (originalPosition == null):\n        throw new Error('no \"Position\" given')\n      case (typeof originalPosition.left !== 'number') && ! (originalPosition.left as Number instanceof Number):\n      case (typeof originalPosition.top  !== 'number') && ! (originalPosition.top  as Number instanceof Number):\n        throw new Error('invalid \"Position\" given')\n    }\n\n    switch (System) {\n      case null: case undefined:\n        throw new Error('no coordinate system given')\n// @ts-ignore the following check is for non-TypeScript applications only\n      case 'viewport':\n        return { left:originalPosition.left, top:originalPosition.top }\n      case 'document':\n        return {\n          left:originalPosition.left + window.scrollX,\n          top:  originalPosition.top + window.scrollY\n        }\n      case 'local':\n        switch (true) {\n          case (Target == null):\n            throw new Error('no target element given')\n          case (Target instanceof Element):\n            let TargetPositionInViewport = (Target as Element).getBoundingClientRect()\n            return {\n              left:originalPosition.left - TargetPositionInViewport.left,\n              top:  originalPosition.top - TargetPositionInViewport.top\n            }\n          default:\n            throw new Error('invalid target element given')\n        }\n      default:\n        throw new Error('invalid coordinate system given')\n    }\n  }\n\n  function fromDocumentTo (\n    System:'viewport'|'local', originalPosition:Position, Target?:Element\n  ):Position {\n    switch (true) {\n      case (originalPosition == null):\n        throw new Error('no \"Position\" given')\n      case (typeof originalPosition.left !== 'number') && ! (originalPosition.left as Number instanceof Number):\n      case (typeof originalPosition.top  !== 'number') && ! (originalPosition.top  as Number instanceof Number):\n        throw new Error('invalid \"Position\" given')\n    }\n\n    switch (System) {\n      case null: case undefined:\n        throw new Error('no coordinate system given')\n      case 'viewport':\n        return {\n          left:originalPosition.left - window.scrollX,\n          top:  originalPosition.top - window.scrollY\n        }\n// @ts-ignore the following check is for non-TypeScript applications only\n      case 'document':\n        return { left:originalPosition.left, top:originalPosition.top }\n      case 'local':\n        switch (true) {\n          case (Target == null):\n            throw new Error('no target element given')\n          case (Target instanceof Element):\n            let TargetPositionInViewport = (Target as Element).getBoundingClientRect()\n            return {\n              left:originalPosition.left + window.scrollX - TargetPositionInViewport.left,\n              top:  originalPosition.top + window.scrollY - TargetPositionInViewport.top\n            }\n          default:\n            throw new Error('invalid target element given')\n        }\n      default:\n        throw new Error('invalid coordinate system given')\n    }\n  }\n\n  function fromLocalTo (\n    System:'viewport'|'document', originalPosition:Position, Source?:Element\n  ):Position {\n    switch (true) {\n      case (originalPosition == null):\n        throw new Error('no \"Position\" given')\n      case (typeof originalPosition.left !== 'number') && ! (originalPosition.left as Number instanceof Number):\n      case (typeof originalPosition.top  !== 'number') && ! (originalPosition.top  as Number instanceof Number):\n        throw new Error('invalid \"Position\" given')\n    }\n\n    let SourcePositionInViewport:Position\n    switch (true) {\n      case (Source == null):\n        throw new Error('no source element given')\n      case (Source instanceof Element):\n        SourcePositionInViewport = (Source as Element).getBoundingClientRect()\n        break\n      default:\n        throw new Error('invalid source element given')\n    }\n\n    switch (System) {\n      case null: case undefined:\n        throw new Error('no coordinate system given')\n      case 'viewport':\n        return {\n          left:originalPosition.left + SourcePositionInViewport.left,\n          top:  originalPosition.top + SourcePositionInViewport.top\n        }\n      case 'document':\n        return {\n          left:originalPosition.left + SourcePositionInViewport.left + window.scrollX,\n          top:  originalPosition.top + SourcePositionInViewport.top  + window.scrollY\n        }\n// @ts-ignore the following check is for non-TypeScript applications only\n      case 'local':\n        return { left:originalPosition.left, top:originalPosition.top }\n      default:\n        throw new Error('invalid coordinate system given')\n    }\n  }\n\n\n\n  export default {\n    fromViewportTo,\n    fromDocumentTo,\n    fromLocalTo\n  }\n"],"names":["fromViewportTo","System","originalPosition","Target","Error","left","Number","top","undefined","window","scrollX","scrollY","Element","TargetPositionInViewport","getBoundingClientRect","fromDocumentTo","fromLocalTo","Source","SourcePositionInViewport"],"mappings":"uUA+HiB,CACbA,eA9HF,SACEC,EAA2BC,EAA2BC,GAEtD,QAAQ,GACN,KAA0B,MAApBD,EACJ,MAAM,IAAIE,MAAM,uBAClB,IAAuC,iBAA1BF,EAAiBG,QAAyBH,EAAiBG,gBAA0BC,QAClG,IAAuC,iBAA1BJ,EAAiBK,OAAyBL,EAAiBK,eAA0BD,QAChG,MAAM,IAAIF,MAAM,4BAGpB,OAAQH,GACN,KAAK,KAAM,UAAKO,EACd,MAAM,IAAIJ,MAAM,8BAElB,IAAK,WACH,MAAO,CAAEC,KAAKH,EAAiBG,KAAME,IAAIL,EAAiBK,KAC5D,IAAK,WACH,MAAO,CACLF,KAAKH,EAAiBG,KAAOI,OAAOC,QACpCH,IAAML,EAAiBK,IAAME,OAAOE,SAExC,IAAK,QACH,QAAQ,GACN,KAAgB,MAAVR,EACJ,MAAM,IAAIC,MAAM,2BAClB,KAAMD,aAAkBS,QACtB,IAAIC,EAA4BV,EAAmBW,wBACnD,MAAO,CACLT,KAAKH,EAAiBG,KAAOQ,EAAyBR,KACtDE,IAAML,EAAiBK,IAAMM,EAAyBN,KAE1D,QACE,MAAM,IAAIH,MAAM,gCAEtB,QACE,MAAM,IAAIA,MAAM,qCA2FpBW,eAvFF,SACEd,EAA2BC,EAA2BC,GAEtD,QAAQ,GACN,KAA0B,MAApBD,EACJ,MAAM,IAAIE,MAAM,uBAClB,IAAuC,iBAA1BF,EAAiBG,QAAyBH,EAAiBG,gBAA0BC,QAClG,IAAuC,iBAA1BJ,EAAiBK,OAAyBL,EAAiBK,eAA0BD,QAChG,MAAM,IAAIF,MAAM,4BAGpB,OAAQH,GACN,KAAK,KAAM,UAAKO,EACd,MAAM,IAAIJ,MAAM,8BAClB,IAAK,WACH,MAAO,CACLC,KAAKH,EAAiBG,KAAOI,OAAOC,QACpCH,IAAML,EAAiBK,IAAME,OAAOE,SAGxC,IAAK,WACH,MAAO,CAAEN,KAAKH,EAAiBG,KAAME,IAAIL,EAAiBK,KAC5D,IAAK,QACH,QAAQ,GACN,KAAgB,MAAVJ,EACJ,MAAM,IAAIC,MAAM,2BAClB,KAAMD,aAAkBS,QACtB,IAAIC,EAA4BV,EAAmBW,wBACnD,MAAO,CACLT,KAAKH,EAAiBG,KAAOI,OAAOC,QAAUG,EAAyBR,KACvEE,IAAML,EAAiBK,IAAME,OAAOE,QAAUE,EAAyBN,KAE3E,QACE,MAAM,IAAIH,MAAM,gCAEtB,QACE,MAAM,IAAIA,MAAM,qCAoDpBY,YAhDF,SACEf,EAA8BC,EAA2Be,GAEzD,QAAQ,GACN,KAA0B,MAApBf,EACJ,MAAM,IAAIE,MAAM,uBAClB,IAAuC,iBAA1BF,EAAiBG,QAAyBH,EAAiBG,gBAA0BC,QAClG,IAAuC,iBAA1BJ,EAAiBK,OAAyBL,EAAiBK,eAA0BD,QAChG,MAAM,IAAIF,MAAM,4BAGpB,IAAIc,EACJ,QAAQ,GACN,KAAgB,MAAVD,EACJ,MAAM,IAAIb,MAAM,2BAClB,KAAMa,aAAkBL,QACtBM,EAA4BD,EAAmBH,wBAC/C,MACF,QACE,MAAM,IAAIV,MAAM,gCAGpB,OAAQH,GACN,KAAK,KAAM,UAAKO,EACd,MAAM,IAAIJ,MAAM,8BAClB,IAAK,WACH,MAAO,CACLC,KAAKH,EAAiBG,KAAOa,EAAyBb,KACtDE,IAAML,EAAiBK,IAAMW,EAAyBX,KAE1D,IAAK,WACH,MAAO,CACLF,KAAKH,EAAiBG,KAAOa,EAAyBb,KAAOI,OAAOC,QACpEH,IAAML,EAAiBK,IAAMW,EAAyBX,IAAOE,OAAOE,SAGxE,IAAK,QACH,MAAO,CAAEN,KAAKH,EAAiBG,KAAME,IAAIL,EAAiBK,KAC5D,QACE,MAAM,IAAIH,MAAM"}